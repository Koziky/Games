<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kozy Games</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
    body { background: #111; color: white; min-height: 100vh; }

    header {
      background: #000; padding: 15px 30px;
      display: flex; justify-content: space-between; align-items: center;
      box-shadow: 0 2px 10px rgba(0,0,0,0.6);
    }
    header h1 {
      font-size: 24px;
      background: linear-gradient(45deg, red, black);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    nav button {
      background: transparent; border: 1px solid red; color: white;
      margin-left: 10px; padding: 6px 12px; border-radius: 6px;
      cursor: pointer; transition: 0.3s;
    }
    nav button:hover { background: red; color: black; }

    /* Grid */
    #gameGrid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 25px; padding: 30px;
    }

    /* Game Card */
    .game-card {
      background: #181a1f; border-radius: 14px; padding: 18px;
      display: flex; flex-direction: column; justify-content: space-between;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      cursor: pointer;
    }
    .game-card:hover { transform: scale(1.04); box-shadow: 0 6px 20px rgba(255,0,0,0.4); }
    .game-card img {
      width: 100%; height: 180px; object-fit: cover;
      border-radius: 8px; margin-bottom: 14px;
    }
    .game-card h3 { font-size: 20px; margin-bottom: 6px; }
    .stats {
      display: flex; gap: 12px; margin-top: 6px;
    }
    .stats div {
      background: #222; padding: 4px 10px; border-radius: 6px;
      display: flex; align-items: center; gap: 4px;
      font-size: 14px; color: #bbb;
    }

    /* Modal */
    .modal {
      display: none; position: fixed; z-index: 10;
      left: 0; top: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.85);
      justify-content: center; align-items: center;
    }
    .modal-content {
      background: #1c1f26; border-radius: 14px;
      width: 90%; max-width: 1000px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.7);
      padding: 20px; position: relative;
      display: flex; flex-direction: column; gap: 15px;
    }
    .modal-header { 
      display: flex; justify-content: space-between; align-items: center;
    }
    .modal-header h2 { font-size: 22px; }
    .close {
      font-size: 28px; cursor: pointer; color: #aaa;
    }
    .close:hover { color: red; }

    .modal-content iframe {
      width: 100%; height: 500px; border-radius: 8px;
    }

    .fullscreen-btn {
      align-self: flex-end;
      background: red; color: white; border: none;
      padding: 6px 12px; border-radius: 6px;
      cursor: pointer; font-size: 14px;
      transition: 0.2s;
    }
    .fullscreen-btn:hover { background: #ff4040; }
  </style>
</head>
<body>
  <header>
    <h1>Kozy Games</h1>
    <nav>
      <button onclick="filterGames('all')">All</button>
      <button onclick="filterGames('new')">New</button>
      <button onclick="filterGames('popular')">Popular</button>
    </nav>
  </header>

  <main><div id="gameGrid"></div></main>

  <!-- Modal -->
  <div id="gameModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modalTitle"></h2>
        <span class="close" onclick="closeGame()">&times;</span>
      </div>
      <p id="modalDesc"></p>
      <button class="fullscreen-btn" onclick="toggleFullscreen()">‚õ∂ Fullscreen</button>
      <iframe id="gameFrame" src="" frameborder="0"></iframe>
    </div>
  </div>

  <script>
    const games = [
      {
        name: "Cars Arena",
        img: "https://img.cdn.famobi.com/portal/html5games/images/tmp/CarsArenaTeaser.jpg?v=0.2-50426de7",
        url: "https://play.famobi.com/cars-arena/A1000-10A",
        plays: "12.3k",
        likes: "340",
        release: "2025-09-05",
        description: "Drive and smash cars off the arena."
      },
      {
        name: "Tunnel Rush",
        img: "https://img.gamedistribution.com/6c1a17f5aabc440a8e0d5e05d39bfb36-512x384.jpeg",
        url: "https://play.famobi.com/tunnel-rush/A1000-10",
        plays: "45.7k",
        likes: "1.1k",
        release: "2025-09-01",
        description: "Dodge obstacles in a crazy neon tunnel."
      }
    ];

    const grid = document.getElementById("gameGrid");
    const modal = document.getElementById("gameModal");
    const gameFrame = document.getElementById("gameFrame");
    const modalTitle = document.getElementById("modalTitle");
    const modalDesc = document.getElementById("modalDesc");

    function renderGames(filter = "all") {
      grid.innerHTML = "";
      games.forEach(game => {
        const releaseDate = new Date(game.release);
        const isNew = (new Date() - releaseDate) / (1000*60*60*24) <= 7;

        if (filter === "new" && !isNew) return;
        if (filter === "popular" && parseFloat(game.plays) < 20) return;

        const card = document.createElement("div");
        card.className = "game-card";
        card.innerHTML = `
          <img src="${game.img}" alt="${game.name}">
          <h3>${game.name}</h3>
          <div class="stats">
            <div>üëÅ ${game.plays}</div>
            <div>‚ù§Ô∏è ${game.likes}</div>
          </div>
        `;
        card.addEventListener("click", () => openGame(game));
        grid.appendChild(card);
      });
    }

    function openGame(game) {
      modal.style.display = "flex";
      modalTitle.textContent = game.name;
      modalDesc.textContent = game.description;
      gameFrame.src = game.url;
    }

    function closeGame() {
      modal.style.display = "none";
      gameFrame.src = "";
    }

    function toggleFullscreen() {
      if (gameFrame.requestFullscreen) {
        gameFrame.requestFullscreen();
      } else if (gameFrame.mozRequestFullScreen) { 
        gameFrame.mozRequestFullScreen();
      } else if (gameFrame.webkitRequestFullscreen) { 
        gameFrame.webkitRequestFullscreen();
      } else if (gameFrame.msRequestFullscreen) { 
        gameFrame.msRequestFullscreen();
      }
    }

    function filterGames(type) { renderGames(type); }

    renderGames();
  </script>
</body>
</html>
